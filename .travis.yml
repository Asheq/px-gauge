sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: g9s89KvagKH5Zs6xFvbI/QRfd1CCfEhBQS4N2lmYtitHFf5rqS+elV8zENRhuHEqDuZ2Q2Mt75qixjr5E+Co0vygRI8/Jw1sbYat30WdaYSpb0xCiUv3rnh0b/nYPH00CLp+qHuaJZ8BOcFs2u1fxpn7gnzqkhaZnuv9GaY0+xIkPCvkbPhvPARI0ei1Ig784WWIJM7Hypy843XSxeHOLZIAQg63GUGdvwgAf4Cs2yOEgArHpHGjLhuM4069R/X0rrimA7ZCQ0C6xgD3e+eZXDLT+9kllMtpz+DVe8sB2j29c32wEscQGaJfNUiDs3YE/kDyFoPV6cOGX/NfZjoaC3ixEWqIUo4326qNHBjhsxJjJVWrEhYxZwQ4d8OmjvQi0oK+sayO6RDo9lgAGzTgs4bB+iVAtO20hHxkIyFSlL5ghKqYnEK6CfoxULUX/WLlBPPfsEufGJDmWjfknjim1yGPZPtDOulzZlGocCE1KAlEH8cDeqSVQB4avigJW/JeS2YvdZy9DIJ3tBarQQ3YA1ijtNT4DzcLEhBqrMyEo3c0CjXdZSYIU3sMfvTgQ7ZB7N/mvwCVr9yhBaDOj3iVRJ29xfFU3AqoSxkbSZfaj6hBRMBXLLD8+fr3+UWWqYQhNuMhyxCgWj+5FMRke7hmwH3djQo4zIfADEE0n3wiQOU=
  - secure: FM5Th09QG0sb0EamB8puJPZsJ8SwZFl/UAdoG4wJvj+yYF5A+kPtGGbDA56LGcIIFZmMjXLscxNiTQBUr6juhTsgHQiXwyVebuvLLnK1YPWRxU1GKQFlM1YqKBcfpWHZ42WaIcA7gzR0dcqxlIHYMBdlH+WDw+8acagV9ceFZom2j7MAp2LNhvNOii0s/a+7N+VtcIP/L9C4YCcmANtr8XBClNUejqxd8tl7fsyL8ObOjTgjGfH2QjamZNhChzqJrVyG+fRBZp409KNZIuHG1LUhzPz7qk+zj++urWqqu50u5DJ9JqdUCKqND34Sg8ol/p+fAW1MuB0t2M1/37PuF8nDSormnAt8s1NOXK06rX+GbEuWEVo6jFl44Rbb6dyQ+6apBMnFM0FxCN3W/pUnJw60dLFkOTb2WjajpCKioD2lFemm70m0fUX/trZQ+tqcHbV5ry+5+HE70v5yont86HqWqx10ziWLqahk5bpn3sZToAmZPFhHg2P47mYSaC1F+dBRxVpI1x0Mng+SEeQxb9VwtsOQXYSxr7YQEok6E5mxqWJUUkM/7l0mqBsq32rfKNN5rRyX0qphMcqGoJte/jZSL/pPzEXuGbE34Y/NbHyaWKDd78oN9JGZVk3BJ5ocI2lWnEdCUuo8h+lDuu6uohWfZAUl4d3p7rNKOTskybs=
